Setting up the Wifi Access point for Fred00

sudo apt-get install dnsmasq hostapd

I'll go into a little detail about the two:

hostapd - This is the package that allows you to use the built in WiFi as an access point
dnsmasq - This is a combined DHCP and DNS server that's very easy to configure

  git git-man gnupg gpgv libgd3 libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-common
  libsmbclient libwbclient0 perl perl-base perl-modules python-samba samba
  samba-common samba-common-bin samba-dsdb-modules samba-libs
  samba-vfs-modules
19 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Need to get 19.2 MB of archives.
After this operation, 21.5 kB of additional disk space will be used.
Get:1 http://mirrordirector.raspbian.org/raspbian/ jessie/main perl armhf 5.20.2                                                                   -3+deb8u9 [2,050 kB]
Get:2 http://mirrordirector.raspbian.org/raspbian/ jessie/main perl-base armhf 5                                                                   .20.2-3+deb8u9 [1,104 kB]
Get:3 http://mirrordirector.raspbian.org/raspbian/ jessie/main perl-modules all                                                                    5.20.2-3+deb8u9 [2,553 kB]
Get:4 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba-vfs-modules                                                                    armhf 2:4.2.14+dfsg-0+deb8u8 [305 kB]
Get:5 http://mirrordirector.raspbian.org/raspbian/ jessie/main libgd3 armhf 2.1.                                                                   0-5+deb8u11 [127 kB]
Get:6 http://mirrordirector.raspbian.org/raspbian/ jessie/main libgdk-pixbuf2.0-                                                                   0 armhf 2.31.1-2+deb8u6 [148 kB]
Get:7 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba-libs armhf                                                                    2:4.2.14+dfsg-0+deb8u8 [4,237 kB]
Get:8 http://mirrordirector.raspbian.org/raspbian/ jessie/main libgdk-pixbuf2.0-                                                                   common all 2.31.1-2+deb8u6 [294 kB]
Get:9 http://mirrordirector.raspbian.org/raspbian/ jessie/main libwbclient0 armh                                                                   f 2:4.2.14+dfsg-0+deb8u8 [118 kB]
Get:10 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba-dsdb-modul                                                                   es armhf 2:4.2.14+dfsg-0+deb8u8 [279 kB]
Get:11 http://mirrordirector.raspbian.org/raspbian/ jessie/main python-samba arm                                                                   hf 2:4.2.14+dfsg-0+deb8u8 [855 kB]
Get:12 http://mirrordirector.raspbian.org/raspbian/ jessie/main libsmbclient arm                                                                   hf 2:4.2.14+dfsg-0+deb8u8 [141 kB]
Get:13 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba armhf 2:4.                                                                   2.14+dfsg-0+deb8u8 [940 kB]
Get:14 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba-common-bin                                                                    armhf 2:4.2.14+dfsg-0+deb8u8 [564 kB]
Get:15 http://mirrordirector.raspbian.org/raspbian/ jessie/main samba-common all                                                                    2:4.2.14+dfsg-0+deb8u8 [270 kB]
Get:16 http://mirrordirector.raspbian.org/raspbian/ jessie/main gpgv armhf 1.4.1                                                                   8-7+deb8u4 [177 kB]
Get:17 http://mirrordirector.raspbian.org/raspbian/ jessie/main gnupg armhf 1.4.                                                                   18-7+deb8u4 [1,068 kB]
Get:18 http://mirrordirector.raspbian.org/raspbian/ jessie/main git-man all 1:2.                                                                   1.4-2.1+deb8u5 [1,268 kB]
Get:19 http://mirrordirector.raspbian.org/raspbian/ jessie/main git armhf 1:2.1.                                                                   4-2.1+deb8u5 [2,689 kB]
Fetched 19.2 MB in 26s (731 kB/s)
Reading changelogs... Done
Preconfiguring packages ...
(Reading database ... 70548 files and directories currently installed.)
Preparing to unpack .../perl_5.20.2-3+deb8u9_armhf.deb ...
Unpacking perl (5.20.2-3+deb8u9) over (5.20.2-3+deb8u8) ...
Preparing to unpack .../perl-base_5.20.2-3+deb8u9_armhf.deb ...
Unpacking perl-base (5.20.2-3+deb8u9) over (5.20.2-3+deb8u8) ...
Processing triggers for man-db (2.7.5-1~bpo8+1) ...
Setting up perl-base (5.20.2-3+deb8u9) ...
(Reading database ... 70548 files and directories currently installed.)
Preparing to unpack .../perl-modules_5.20.2-3+deb8u9_all.deb ...
Unpacking perl-modules (5.20.2-3+deb8u9) over (5.20.2-3+deb8u8) ...
Preparing to unpack .../libgd3_2.1.0-5+deb8u11_armhf.deb ...
Unpacking libgd3:armhf (2.1.0-5+deb8u11) over (2.1.0-5+deb8u10) ...
Preparing to unpack .../libgdk-pixbuf2.0-0_2.31.1-2+deb8u6_armhf.deb ...
Unpacking libgdk-pixbuf2.0-0:armhf (2.31.1-2+deb8u6) over (2.31.1-2+deb8u5) ...
Preparing to unpack .../libgdk-pixbuf2.0-common_2.31.1-2+deb8u6_all.deb ...
Unpacking libgdk-pixbuf2.0-common (2.31.1-2+deb8u6) over (2.31.1-2+deb8u5) ...
Preparing to unpack .../libwbclient0_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking libwbclient0:armhf (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8                                                                   u7) ...
Preparing to unpack .../samba-dsdb-modules_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ..                                                                   .
Unpacking samba-dsdb-modules (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8                                                                   u7) ...
Preparing to unpack .../python-samba_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking python-samba (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u7) ..                                                                   .
Preparing to unpack .../libsmbclient_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking libsmbclient:armhf (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8                                                                   u7) ...
Preparing to unpack .../samba-vfs-modules_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking samba-vfs-modules (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u                                                                   7) ...
Preparing to unpack .../samba-libs_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking samba-libs:armhf (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u7                                                                   ) ...
Preparing to unpack .../samba_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking samba (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u7) ...
Preparing to unpack .../samba-common-bin_2%3a4.2.14+dfsg-0+deb8u8_armhf.deb ...
Unpacking samba-common-bin (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u7                                                                   ) ...
Preparing to unpack .../samba-common_2%3a4.2.14+dfsg-0+deb8u8_all.deb ...
Unpacking samba-common (2:4.2.14+dfsg-0+deb8u8) over (2:4.2.14+dfsg-0+deb8u7) ..                                                                   .
Preparing to unpack .../gpgv_1.4.18-7+deb8u4_armhf.deb ...
Unpacking gpgv (1.4.18-7+deb8u4) over (1.4.18-7+deb8u3) ...
Processing triggers for man-db (2.7.5-1~bpo8+1) ...
Processing triggers for systemd (215-17+deb8u7) ...
Setting up gpgv (1.4.18-7+deb8u4) ...
(Reading database ... 70548 files and directories currently installed.)
Preparing to unpack .../gnupg_1.4.18-7+deb8u4_armhf.deb ...
Unpacking gnupg (1.4.18-7+deb8u4) over (1.4.18-7+deb8u3) ...
Processing triggers for install-info (5.2.0.dfsg.1-6) ...
Processing triggers for man-db (2.7.5-1~bpo8+1) ...
Setting up gnupg (1.4.18-7+deb8u4) ...
(Reading database ... 70548 files and directories currently installed.)
Preparing to unpack .../git-man_1%3a2.1.4-2.1+deb8u5_all.deb ...
Unpacking git-man (1:2.1.4-2.1+deb8u5) over (1:2.1.4-2.1+deb8u4) ...
Preparing to unpack .../git_1%3a2.1.4-2.1+deb8u5_armhf.deb ...
Unpacking git (1:2.1.4-2.1+deb8u5) over (1:2.1.4-2.1+deb8u4) ...
Processing triggers for man-db (2.7.5-1~bpo8+1) ...
Setting up perl-modules (5.20.2-3+deb8u9) ...
Setting up perl (5.20.2-3+deb8u9) ...
Setting up libgd3:armhf (2.1.0-5+deb8u11) ...
Setting up libgdk-pixbuf2.0-common (2.31.1-2+deb8u6) ...
Setting up libgdk-pixbuf2.0-0:armhf (2.31.1-2+deb8u6) ...
Setting up libwbclient0:armhf (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba-libs:armhf (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba-dsdb-modules (2:4.2.14+dfsg-0+deb8u8) ...
Setting up python-samba (2:4.2.14+dfsg-0+deb8u8) ...
Setting up libsmbclient:armhf (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba-vfs-modules (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba-common (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba-common-bin (2:4.2.14+dfsg-0+deb8u8) ...
Setting up samba (2:4.2.14+dfsg-0+deb8u8) ...
Setting up git-man (1:2.1.4-2.1+deb8u5) ...
Setting up git (1:2.1.4-2.1+deb8u5) ...
Processing triggers for libc-bin (2.19-18+deb8u10) ...
pi@Fred00:~ $ sudo apt-get install dnsmasq hostapd
Reading package lists... Done
Building dependency tree
Reading state information... Done
The following extra packages will be installed:
  dns-root-data dnsmasq-base libmnl0 libnetfilter-conntrack3 libnl-route-3-200
The following NEW packages will be installed:
  dns-root-data dnsmasq dnsmasq-base hostapd libmnl0 libnetfilter-conntrack3
  libnl-route-3-200
0 upgraded, 7 newly installed, 0 to remove and 0 not upgraded.
Need to get 1,032 kB of archives.
After this operation, 2,733 kB of additional disk space will be used.
Do you want to continue? [Y/n] Y
Get:1 http://archive.raspberrypi.org/debian/ jessie/main dnsmasq-base armhf 2.76                                                                   -5+rpi1 [392 kB]
Get:2 http://mirrordirector.raspbian.org/raspbian/ jessie/main libmnl0 armhf 1.0                                                                   .3-5 [10.9 kB]
Get:3 http://mirrordirector.raspbian.org/raspbian/ jessie/main libnetfilter-conn                                                                   track3 armhf 1.0.4-1 [40.0 kB]
Get:4 http://mirrordirector.raspbian.org/raspbian/ jessie/main libnl-route-3-200                                                                    armhf 3.2.24-2 [99.5 kB]
Get:5 http://archive.raspberrypi.org/debian/ jessie/main dnsmasq all 2.76-5+rpi1                                                                    [16.2 kB]
Get:6 http://mirrordirector.raspbian.org/raspbian/ jessie/main dns-root-data all                                                                    2014060201+2 [14.9 kB]
Get:7 http://mirrordirector.raspbian.org/raspbian/ jessie/main hostapd armhf 1:2                                                                   .3-1+deb8u4 [459 kB]
Fetched 1,032 kB in 6s (165 kB/s)
Selecting previously unselected package libmnl0:armhf.
(Reading database ... 70548 files and directories currently installed.)
Preparing to unpack .../libmnl0_1.0.3-5_armhf.deb ...
Unpacking libmnl0:armhf (1.0.3-5) ...
Selecting previously unselected package libnetfilter-conntrack3:armhf.
Preparing to unpack .../libnetfilter-conntrack3_1.0.4-1_armhf.deb ...
Unpacking libnetfilter-conntrack3:armhf (1.0.4-1) ...
Selecting previously unselected package libnl-route-3-200:armhf.
Preparing to unpack .../libnl-route-3-200_3.2.24-2_armhf.deb ...
Unpacking libnl-route-3-200:armhf (3.2.24-2) ...
Selecting previously unselected package dns-root-data.
Preparing to unpack .../dns-root-data_2014060201+2_all.deb ...
Unpacking dns-root-data (2014060201+2) ...
Selecting previously unselected package dnsmasq-base.
Preparing to unpack .../dnsmasq-base_2.76-5+rpi1_armhf.deb ...
Unpacking dnsmasq-base (2.76-5+rpi1) ...
Selecting previously unselected package dnsmasq.
Preparing to unpack .../dnsmasq_2.76-5+rpi1_all.deb ...
Unpacking dnsmasq (2.76-5+rpi1) ...
Selecting previously unselected package hostapd.
Preparing to unpack .../hostapd_1%3a2.3-1+deb8u4_armhf.deb ...
Unpacking hostapd (1:2.3-1+deb8u4) ...
Processing triggers for dbus (1.8.22-0+deb8u1) ...
Processing triggers for man-db (2.7.5-1~bpo8+1) ...
Processing triggers for systemd (215-17+deb8u7) ...
Setting up libmnl0:armhf (1.0.3-5) ...
Setting up libnetfilter-conntrack3:armhf (1.0.4-1) ...
Setting up libnl-route-3-200:armhf (3.2.24-2) ...
Setting up dns-root-data (2014060201+2) ...
Setting up dnsmasq-base (2.76-5+rpi1) ...
Setting up dnsmasq (2.76-5+rpi1) ...
Setting up hostapd (1:2.3-1+deb8u4) ...
Processing triggers for libc-bin (2.19-18+deb8u10) ...
Processing triggers for dbus (1.8.22-0+deb8u1) ...
Processing triggers for systemd (215-17+deb8u7) ...
pi@Fred00:~ $ sudo smbpasswd -a pi
New SMB password:
Retype new SMB password:
Added user pi.
pi@Fred00:~ $ sudo mc
PuTTY X11 proxy: wrong authorisation protocol attempted
root@Fred00:/etc/network# sudo service dhcpcd restart

root@Fred00:/etc/network# sudo ifdown wlan0

root@Fred00:/etc/network# sudo ifup wlan0

pi@Fred00:~ $ sudo nano /etc/hastapd/ostapd.conf
pi@Fred00:~ $ sudo /usr/sbin/hostapd /etc/hostapd/hostapd.conf
Configuration file: /etc/hostapd/hostapd.conf
Could not open configuration file '/etc/hostapd/hostapd.conf' for reading.
Failed to set up interface with /etc/hostapd/hostapd.conf
Failed to initialize interface
pi@Fred00:~ $ sudo mc
PuTTY X11 proxy: wrong authorisation protocol attempted
root@Fred00:/etc/hostapd# sudo /usr/sbin/hostapd /etc/hostapd/hostapd.conf
Configuration file: /etc/hostapd/hostapd.conf
Failed to create interface mon.wlan0: -95 (Operation not supported)
wlan0: Could not connect to kernel driver
sing interface wlan0 with hwaddr b8:27:eb:bc:c6:5 and ssid "Pi3-AP"
wlan0: interface state UNINITIALIZED->ENABLED
wlan0: AP-ENABLED
^C
pi@Fred00:~ $ sudo mv /etc/dnsmasq.conf /etc/dnsmasq.conf.orig
pi@Fred00:~ $ sudo nano /etc/dnsmasq.conf
pi@Fred00:~ $ sudo nano /etc/sysctl.conf
pi@Fred00:~ $ sudo sh -c "echo 1 > /proc/sys/net/ipv4/ip_forward"
pi@Fred00:~ $ sudo service hostapd start
pi@Fred00:~ $ sudo service dnsmasq start
pi@Fred00:~ $ sudo mc
PuTTY X11 proxy: wrong authorisation protocol attempted
/etc/dnsmasq.conf.orig                                                                                                 10142/26716              37%

# Always allocate the host with Ethernet address 11:22:33:44:55:66
# The IP address 192.168.0.60
#dhcp-host=11:22:33:44:55:66,192.168.0.60

# Always set the name of the host with hardware address
# 11:22:33:44:55:66 to be "fred"
#dhcp-host=11:22:33:44:55:66,fred

# Always give the host with Ethernet address 11:22:33:44:55:66
# the name fred and IP address 192.168.0.60 and lease time 45 minutes
#dhcp-host=11:22:33:44:55:66,fred,192.168.0.60,45m

# Give a host with Ethernet address 11:22:33:44:55:66 or
# 12:34:56:78:90:12 the IP address 192.168.0.60. Dnsmasq will assume
# that these two Ethernet interfaces will never be in use at the same
# time, and give the IP address to the second, even if it is already
# in use by the first. Useful for laptops with wired and wireless
# addresses.
#dhcp-host=11:22:33:44:55:66,12:34:56:78:90:12,192.168.0.60

# Give the machine which says its name is "bert" IP address
 1Help         2UnWrap       3Quit          4Hex           5Goto          6             7Search        8Raw           9Format       10Quit



# Always set the name of the host and IP Address with hardware address
# B8:27:EB:94:95:C7 to be "fred" with IP Address 192.168.0.11
dhcp-host=B8:27:EB:94:95:C7,192.168.0.11
dhcp-host=B8:27:EB:94:95:C7,fred01
